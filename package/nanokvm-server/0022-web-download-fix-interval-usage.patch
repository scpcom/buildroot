From 68ba41f1748389fc8a9c6fd91f7bfdbbc65b0a88 Mon Sep 17 00:00:00 2001
From: scpcom <scpcom@gmx.de>
Date: Sat, 18 Jan 2025 15:12:23 +0100
Subject: [PATCH] web: download: fix interval usage

---
 web/src/pages/desktop/menu/download.tsx | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/web/src/pages/desktop/menu/download.tsx b/web/src/pages/desktop/menu/download.tsx
index 81681dd..40dae21 100644
--- a/web/src/pages/desktop/menu/download.tsx
+++ b/web/src/pages/desktop/menu/download.tsx
@@ -24,7 +24,7 @@ export const DownloadImage = () => {
 
   const inputRef = useRef<InputRef>(null);
 
-  const intervalId = useRef<NodeJS.Timeout | null>(null);
+  const intervalId = useRef<NodeJS.Timeout | undefined>(undefined);
 
 
   useEffect(() => {
@@ -43,7 +43,7 @@ export const DownloadImage = () => {
   }
   function handleOpenChange(open: boolean) {
     if (open) {
-      clearInterval(intervalId);
+      clearInterval(intervalId.current);
       checkDiskEnabled();
       getDownloadStatus();
       if (!intervalId.current) {
-- 
2.34.1

